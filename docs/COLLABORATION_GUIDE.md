# Claude + Cursor 协作协议

## 🎯 协作关系定义

### **角色分工**
- **用户 (决策层)**: 项目目标、功能需求、优先级决策
- **Claude (设计层)**: 技术方案设计、架构规划、可行性分析
- **Cursor (执行层)**: 代码实现、环境配置、调试部署

### **协作原则**
1. **用户主导**: 所有决策由用户最终确定
2. **Claude设计**: 提供详细可行的技术方案
3. **Cursor执行**: 专注具体实现，及时反馈问题
4. **快速迭代**: 小步快跑，持续优化

## 📋 交接模板

### **1. 需求交接模板 (用户 → Claude)**

```markdown
## 🎯 功能需求

### 目标描述
[用户描述要实现的功能目标]

### 业务场景
[具体的使用场景和用户故事]

### 技术要求
- 性能要求: [响应时间、并发数等]
- 兼容性: [支持的平台、版本等]
- 安全性: [安全要求]

### 优先级
[高/中/低] - [原因]

### 验收标准
[如何判断功能完成]
```

### **2. 方案设计模板 (Claude → Cursor)**

```markdown
## 🏗️ 技术方案

### 功能概述
[基于用户需求的功能描述]

### 技术选型
- **核心技术**: [选择的技术栈]
- **替代方案**: [备选方案]
- **选择理由**: [为什么选择这个方案]

### 实现规格
- **文件路径**: `src/xxx/xxx.py`
- **核心类**: `XxxEngine`
- **关键接口**: 
  ```python
  def process_input(self, data): pass
  def handle_error(self, error): pass
  ```

### 数据流
[数据如何流转，输入输出格式]

### 错误处理
[可能的错误场景和处理策略]

### 性能考虑
[性能优化点和监控指标]

### 测试要点
[需要测试的关键点]
```

### **3. 执行反馈模板 (Cursor → Claude/用户)**

```markdown
## 📊 执行反馈

### ✅ 已完成
- [具体完成的功能点]

### ⚠️ 实现问题
- **技术问题**: [遇到的技术难点]
- **设计问题**: [需要调整的设计点]
- **依赖问题**: [外部依赖相关问题]

### 💡 优化建议
- [实现过程中发现的改进点]

### ❓ 需要决策
- [需要用户或Claude决策的问题]

### 📈 下一步
- [接下来的行动计划]
```

### **4. 方案确认模板 (用户 → Cursor)**

```markdown
## ✅ 方案确认

### 批准方案
[确认Claude提供的方案]

### 调整要求
[需要调整的地方]

### 执行优先级
[执行顺序和时间安排]

### 验收标准
[具体的验收标准]
```

## 🔄 协作流程

### **阶段1: 需求定义**
1. **用户** 提出功能需求
2. **Claude** 分析需求，提出技术方案
3. **用户** 确认或调整方案
4. **用户** 将确认的方案交给Cursor

### **阶段2: 方案执行**
1. **Cursor** 开始具体实现
2. **Cursor** 遇到问题时及时反馈
3. **Claude** 协助解决技术问题
4. **用户** 参与关键决策

### **阶段3: 验收部署**
1. **Cursor** 完成实现，进行测试
2. **Claude** 进行代码审查
3. **用户** 进行功能验收
4. **Cursor** 处理部署问题

## 📁 项目状态

### **当前项目**
- **项目名称**: VTX AI Phone System
- **GitHub**: https://github.com/xihaopark/RealTimeChatBot_Aiker
- **当前版本**: v2.0.0

### **核心模块**
- **AI模块**: 语音识别、合成、对话管理
- **音频模块**: 编解码、生成器
- **网络模块**: SIP/RTP/SDP协议处理
- **配置模块**: 系统配置管理

## 🛠️ 工具和脚本

### **开发工具**
```bash
# 同步到GitHub
./sync_to_github.sh

# 部署脚本
./deploy.sh

# 环境配置
.env                    # 实际配置
env.example            # 配置模板
```

### **文档结构**
```
docs/
├── COLLABORATION_GUIDE.md    # 本协作协议
├── design-decisions.md       # 设计决策记录
└── feedback-log.md          # 反馈日志
```

## 📞 沟通规则

### **信息传递**
1. **用户决策** → **Claude设计** → **Cursor执行**
2. **问题反馈**: Cursor → Claude → 用户
3. **方案调整**: 用户 → Claude → Cursor

### **优先级处理**
- **Level 1**: Cursor直接解决的技术问题
- **Level 2**: 需要Claude参与的设计问题
- **Level 3**: 需要用户决策的产品问题

## 🎉 协作启动

### **立即开始**
1. 用户提出第一个功能需求
2. Claude设计技术方案
3. 用户确认方案
4. Cursor开始执行

### **持续优化**
- 根据实际协作效果调整流程
- 定期回顾和优化协作方式
- 积累最佳实践

---

**协议版本**: 1.0.0  
**最后更新**: 2024-01-XX  
**维护者**: 用户 + Claude + Cursor 协作团队 